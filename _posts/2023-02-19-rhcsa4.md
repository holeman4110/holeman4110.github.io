---
layout: single
title: "RHCSA Practice Test"
categories: os
tags: [2023/02/19, 운영체제, RHCSA, 레드햇]
toc: true
toc_sticky: true
author_profile: true
comments: true
share: true
related: true
published: true
hidden: false
sidebar: 
    nav: "docs"
---

## 1. 서론  

&nbsp;&nbsp;&nbsp;&nbsp; 앞에서 정리한 내용들을 연습하고나서 문제만 모아 연습해볼 수 있도록 만든 포스팅이다.

## 2. 본론  

```
# systemctl get-defalut
# systemctl set-default graphical.target //재부팅시 반영
# systemctl isolate graphical.target //현재 세션에 즉시 반영
```

### 1-1. Emegerncy Mode

```
System boot isn't normal. Enter emergency mode and do system recovery process.
Root Passwd : 'keduit'
```

### 1-2. Configure Host Name, IP Address, Gateway and DNSPermalink

#### 1. 예제1 

```
Host Name: keduit.example.com
IP Address: x.x.x.x/24
Gateway: x.x.x.x
DNS: x.x.x.x
```

#### 2. 예제2

```
Host Name: keduit.example.com
IP Address: x.x.x.x/24
Gateway: x.x.x.x
DNS: x.x.x.x
//You can't use nmtui
```

### 1-3. Base Repo

```
url = https://mirrors.tuna.tsinghua.edu.cn/centos-stream/9-stream/BaseOS/$basearch/os/
url2 = https://mirrors.tuna.tsinghua.edu.cn/centos-stream/9-stream/AppStream/$basearch/os/
gpgkey = x.x.x.x
Configure base repository with appstream. And then activate gpgkey as above.
```

### 1-4. Add User(Group)

#### 1. 예제1

```
Add 3 users: kim, kang, choi(user id=1111).
Those 3 user's password is 'keduit'
The requirements: The Additional group of the two users: kim, kang is the keduit group(group id=111). The user: choi's login shell should be non-interactive.
```

#### 2. 예제2

```
Add user 'keduit1' who can use sudo command without passwd.
```

### 1-5. SELinux

#### 1. 예제1

```
SELinux is disabled now. Turn it on and make it permanent.
```

#### 2. 예제2

```
httpd's default directory is /var/www/html, do not delete related files and directories.
Connect to this server through web browser, and check if html files in /var/www/html/ are visible normally.
httpd's default port is 82, do not change.
httpd have to be on after reboot.
SELinux is Enforcing now, this makes httpd failed.
```

### 1-6. File permission

```
Copy /etc/fstab to /var/tmp. Change owner group to 'admin', the user1 could read, write and modify it, while user2 without any permission.
```

### 1-7. Crontab

#### 1. 예제1

```
Configure a task: plan to run below command every 2mins by user keduit
logger RH200 exam
```

#### 2. 예제2

```
Configure a task: if uname is kim then echo "OK", otherwise echo "NO"
```

```
export VISUAL=vim; crontab -e // crontab -e의 editor를 vim으로 default
```

### 1-8. Shared directory

```
Make directory named 'home/shared'
Only 'keduit' group can read and write on above dir.
Any other users can do nothing on that.
But root can do anything.
Made files in shared dir are automatically owned by group 'keduit'
```

### 1-9. NTP(Chrony)

```
Configure ntp client to sync time through kr.pool.ntp.org
```

### 1-10. Find files

```
Find the files owned by keduit, and copy it to /root/findfiles
```

### 1-11. Find String

```
Find the rows that contain pizza from file /etc/pizzafile, and write it to the /tmp/pizza.txt
```

### 1-12. Archive(Backup)

```
Create a backup file named /root/backuptest.tar.bz2, contains the content of /usr/localtest, tar must use bzip2 to compress.
```

### 2-1. Reset root password

#### 1. 예제1

```
Reset root passwd to 'keduit'
```

#### 2. 예제2

```
Reset root passwd to 'keduit'
But rd.break is not working now. Use different ways.
```

### 2-2. Logical Volume

#### 1. 예제1

```
Change the logical volume capacity named vo(volume group) from 190M to 300M. and the size of the floating range should set between 280 and 320. (This logical volume has been mounted in advance.)
```

#### 2. 예제2

```
Create a volume group(lv), and set 8M as a extends. Divided a volume group containing 50 extends on volume group lv (lvshare), make it as xfs file system, and mounted automatically under /dev/sde. And the size of the floating range should set between 380M and 400M.
```

### 2-3. Swap Partition

```
Create a 1G partition in /dev/sde, make it as ext4 file system, mounted automatically under /dev/sde and which take effect automatically at boot-start. Use fdisk for making swapfile.
```

### 2-4. nfs / autofs / ldap

#### 1. 예제1

```
Configure autofs to make sure after login successfully, it has the home directory autofs, which is shared as /rhome/ldapuser11 at the ip: xxx.xxx.xxx.xxx. and it also requires that, other ldap users can use the home directory normally.
```

#### 2. 예제2

```
Configure autofs.
Configure the autofs automatically mount to the home directory of LDAP, as required: keduit.example.com use NFS to share the home to your system. This file system contains a pre configured home directory of user ldapuser11.
Home directory of ldapuser11 is:
keduit.exmaple.com /home/guests/ldapuser
Home directory of ldapuser11 should automatically mount to the ldapuser11 of the local /home/guests Home directory's write permissions must be available for users ldapuser1's password is password
```

### 2-5. podman

#### 1. 예제1

```
Download a-b-c in provided registry, and then run as dd
Configure it's only running by user 'kim'.
Also it should be running automatically after reboot.
```

```
# dnf search podman
# dnf install -y podman.x86_64
# loginctl enable-linger //일반user도 container 사용가능하게 하는 명령
# cat /etc/containers/registries.conf //사용가능한 registry 확인
# su kim
# podman search registry.name(url)/a-b-c
# podman pull registry.name(url)/rhel9/a-b-c
# podman registry run --name dd //tab
# podman start dd
# podman ps
# cd /home/kim/.config
# mkdir -p systemd/user
# podman generate systemd --name dd --files
# systemctl --user enable --now container-dd.service
```

```
# vim /etc/systemd.journal.conf
Storage=persistent
# systemctl restart systemd-journald.service
# su kim
# mkdir -p /home/containers/contianer_journal
# exit
# find /var/log/journal -name "*.journal" | xargs cp -t /home/containers/container_journal/
```

### 2-6 tuned

```
Change tuned to recommended
```

### 2-7 ftp(+ update kernel)

```
Install a FTP server, and request to anonymous download from /var/ftp/pub catalog. (it needs you to configure yum direct to the already existing file server.)
```

### 2-8 ip forward

```
Please open the ip_forward, and take effect permanently.
```

### 2-9 Password Aging Control

```
Change PASS_MAX_DAYS to 20
```

### 2-11 Hard Link, Soft(Symbolic) Link

```
Make a /etc/linktest.txt 
Make a Hard Link named hlink at /etc/linkexam/
Make a Soft Link named slink at /etc/linkexam/
```

## 3. 결론  

&nbsp;&nbsp;&nbsp;&nbsp; RHCSA 시험까지 3일남았다.

## 4. 참고자료  

Ⅰ. [우주아줌마](https://whitestudy.tistory.com/)

---

```bash
클라우드 개발자를 넘어 데브옵스를 꿈꾸는 이제 막 공부를 시작한 초보 엔지니어입니다. 틀린 점이 있으면 친절하게 댓글 부탁드립니다. :)
```

---
